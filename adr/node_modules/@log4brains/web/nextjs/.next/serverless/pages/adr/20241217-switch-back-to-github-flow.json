{"pageProps":{"projectName":"Log4brains","currentAdr":{"slug":"20241217-switch-back-to-github-flow","package":null,"title":"Switch back to GitHub Flow, but keeping the automated beta releases","status":"accepted","supersededBy":null,"tags":[],"deciders":[],"body":{"enhancedMdx":"\n## Context and Problem Statement\n\nThe previous decision to adopt a Simplified Git Flow with a `develop` and `stable` branch aimed to provide clearer separation between development and releases while enabling automated beta releases. However, we faced tooling limitations.\n\nSpecifically, **Lerna**, which we use for managing our monorepo, does not integrate well with Git Flow processes ([Lerna issue #2023](https://github.com/lerna/lerna/issues/2023#issuecomment-480402592)), when managing both a `develop` and `stable` branches: we cannot make Lerna publish a stable release from a different branch than the main one.\n\n## Decision Drivers <!-- optional -->\n\n- Make Lerna work again for stable releases\n- Keep the benefits of the previous workflow:\n  - Need for automation in releases.\n  - Be able to merge more quickly whithout breaking the stable branch, while making it possible for beta testers to test the new features.\n  - Easier delegation to new maintainers.\n  - Simplified yet structured process for contributors.\n  - Clearer separation between ongoing development and stable releases.\n\n## Considered Options\n\n- Option 1: Patch Lerna to keep the Simplified Git Flow (as described in the link above)\n- Option 2: Switch back to Github Flow, but keeping the automated beta releases\n\n## Decision Outcome\n\nChosen option: \"Option 2: Switch back to Github Flow, but keeping the automated beta releases\", because it fullfils all the requirements.\nIn fact, we can still merge quickly pull requests without releasing a stable release, while keeping the automated beta release.\nThe stable release is a manual script executed by maintainers.\n"},"creationDate":"2024-12-17T11:14:06.000Z","lastEditDate":"2024-12-17T11:14:06.000Z","lastEditAuthor":"Thomas Vaillant","publicationDate":"2024-12-17T22:59:59.000Z","file":{"relativePath":"docs/adr/20241217-switch-back-to-github-flow.md","absolutePath":"/Users/thomas/git/log4brains/docs/adr/20241217-switch-back-to-github-flow.md"},"repository":{"provider":"github","viewUrl":"https://github.com/thomvaill/log4brains/blob/master/docs/adr/20241217-switch-back-to-github-flow.md"}},"l4bVersion":"1.1.0"},"__N_SSG":true}