{"ast":null,"code":"import _ArrowForward from \"@material-ui/icons/ArrowForward\";\nimport _Tooltip from \"@material-ui/core/Tooltip\";\nimport _Button from \"@material-ui/core/Button\";\nimport _Hidden from \"@material-ui/core/Hidden\";\nimport _ArrowBack from \"@material-ui/icons/ArrowBack\";\nimport _Divider from \"@material-ui/core/Divider\";\nimport _Typography from \"@material-ui/core/Typography\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport _Link from \"@material-ui/core/Link\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from \"react\";\nimport moment from \"moment\";\nimport { makeStyles, createStyles } from \"@material-ui/core/styles\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport { Alert } from \"@material-ui/lab\";\nimport { Markdown, MarkdownToc, TwoColContent } from \"../../components\"; // eslint-disable-next-line import/no-cycle\n\nimport { ConnectedAdrBrowserLayout } from \"../../layouts\";\nimport { AdrHeader } from \"./components\";\nimport { AdrNavContext, Log4brainsMode, Log4brainsModeContext } from \"../../contexts\";\nimport { buildAdrUrl } from \"../../lib/adr-utils\";\nconst useStyles = makeStyles(theme => createStyles({\n  header: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(4)\n  },\n  alert: {\n    marginBottom: theme.spacing(3)\n  },\n  bottomNavDivider: {\n    marginTop: theme.spacing(12)\n  },\n  bottomNav: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    marginTop: theme.spacing(1)\n  },\n  bottomInfo: {},\n  bottomInfoText: {\n    fontSize: \"0.77rem\",\n    textAlign: \"center\",\n    color: theme.palette.grey[600]\n  }\n}));\nexport function AdrScene({\n  projectName,\n  currentAdr\n}) {\n  const classes = useStyles();\n  const mode = React.useContext(Log4brainsModeContext);\n  const adrNav = React.useContext(AdrNavContext);\n  const [mdContent, setMdContent] = React.useState(undefined);\n\n  if (!currentAdr) {\n    return null; // Happens during Next.js initial build\n  }\n\n  let alert;\n\n  if (currentAdr.status === \"superseded\") {\n    alert = /*#__PURE__*/_jsxs(Alert, {\n      severity: \"warning\",\n      className: classes.alert,\n      children: [\"This ADR is \", /*#__PURE__*/_jsx(\"strong\", {\n        children: \"superseded\"\n      }), currentAdr.supersededBy ? /*#__PURE__*/_jsxs(_Fragment, {\n        children: [\" by \", /*#__PURE__*/_jsx(Link, {\n          href: buildAdrUrl(currentAdr.supersededBy),\n          passHref: true,\n          children: /*#__PURE__*/_jsx(_Link, {\n            children: currentAdr.supersededBy.title || \"Untitled\"\n          })\n        })]\n      }) : null, \".\"]\n    });\n  } else if (currentAdr.status === \"deprecated\") {\n    alert = /*#__PURE__*/_jsxs(Alert, {\n      severity: \"warning\",\n      className: classes.alert,\n      children: [\"This ADR is \", /*#__PURE__*/_jsx(\"strong\", {\n        children: \"deprecated\"\n      }), \".\"]\n    });\n  } else if (currentAdr.status === \"rejected\") {\n    alert = /*#__PURE__*/_jsxs(Alert, {\n      severity: \"error\",\n      className: classes.alert,\n      children: [\"This ADR was \", /*#__PURE__*/_jsx(\"strong\", {\n        children: \"rejected\"\n      }), \".\"]\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsxs(\"title\", {\n        children: [currentAdr.title || \"Untitled\", \" ADR - Architecture knowledge base of\", \" \", projectName]\n      })\n    }), /*#__PURE__*/_jsxs(TwoColContent, {\n      rightColContent: /*#__PURE__*/_jsx(MarkdownToc, {\n        content: mdContent,\n        levelStart: 2\n      }),\n      children: [/*#__PURE__*/_jsx(_Typography, {\n        variant: \"h3\",\n        gutterBottom: true,\n        children: currentAdr.title || \"Untitled\"\n      }), /*#__PURE__*/_jsx(_Divider, {}), /*#__PURE__*/_jsx(AdrHeader, {\n        adr: currentAdr,\n        className: classes.header,\n        locallyEditable: mode === Log4brainsMode.preview\n      }), alert, /*#__PURE__*/_jsx(Markdown, {\n        onCompiled: setMdContent,\n        children: currentAdr.body.enhancedMdx\n      }), /*#__PURE__*/_jsx(_Divider, {\n        className: classes.bottomNavDivider\n      }), /*#__PURE__*/_jsxs(\"nav\", {\n        className: classes.bottomNav,\n        children: [adrNav.previousAdr ? /*#__PURE__*/_jsx(Link, {\n          href: buildAdrUrl(adrNav.previousAdr),\n          passHref: true,\n          children: /*#__PURE__*/_jsx(_Tooltip, {\n            title: adrNav.previousAdr.title || \"\",\n            \"aria-label\": \"previous\",\n            children: /*#__PURE__*/_jsx(_Button, {\n              startIcon: /*#__PURE__*/_jsx(_ArrowBack, {}),\n              children: /*#__PURE__*/_jsx(_Hidden, {\n                xsDown: true,\n                implementation: \"css\",\n                children: \"Previous\"\n              })\n            })\n          })\n        }) : /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsxs(\"div\", {\n          className: classes.bottomInfo,\n          children: [/*#__PURE__*/_jsxs(_Typography, {\n            className: classes.bottomInfoText,\n            children: [\"Last edited by \", currentAdr.lastEditAuthor]\n          }), /*#__PURE__*/_jsxs(_Typography, {\n            className: classes.bottomInfoText,\n            children: [\"on \", moment(currentAdr.lastEditDate).format(\"lll\")]\n          })]\n        }), adrNav.nextAdr ? /*#__PURE__*/_jsx(Link, {\n          href: buildAdrUrl(adrNav.nextAdr),\n          passHref: true,\n          children: /*#__PURE__*/_jsx(_Tooltip, {\n            title: adrNav.nextAdr.title || \"\",\n            \"aria-label\": \"next\",\n            children: /*#__PURE__*/_jsx(_Button, {\n              endIcon: /*#__PURE__*/_jsx(_ArrowForward, {}),\n              children: /*#__PURE__*/_jsx(_Hidden, {\n                xsDown: true,\n                implementation: \"css\",\n                children: \"Next\"\n              })\n            })\n          })\n        }) : /*#__PURE__*/_jsx(\"div\", {})]\n      })]\n    })]\n  });\n}\n\nAdrScene.getLayout = (scene, sceneProps) => /*#__PURE__*/_jsx(ConnectedAdrBrowserLayout, _objectSpread(_objectSpread({}, sceneProps), {}, {\n  children: scene\n}));","map":null,"metadata":{},"sourceType":"module"}